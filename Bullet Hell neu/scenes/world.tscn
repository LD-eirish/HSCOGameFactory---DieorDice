[gd_scene load_steps=8 format=3 uid="uid://bmr3t6me1xthw"]

[ext_resource type="PackedScene" uid="uid://621xj030j3se" path="res://player.tscn" id="1_ehuas"]
[ext_resource type="Texture2D" uid="uid://b4lt6dqy8jh82" path="res://DM's World in Chaos.jpg" id="3_i5x0n"]
[ext_resource type="Texture2D" uid="uid://c8i5rku6puptn" path="res://Wobin1024.png" id="4_xxq6m"]
[ext_resource type="PackedScene" uid="uid://ht3csjgf2tno" path="res://UI.tscn" id="5_8tcvv"]

[sub_resource type="GDScript" id="GDScript_3uf2h"]
script/source = "extends CharacterBody2D

class_name PlayerCharacter

const max_speed = 400
const accel = 1500 #Beschleunigung
const friction = 600 #Reibung

var input = Vector2.ZERO

func _physics_process(delta):
	player_movement(delta)


func get_input():
	input.x = int(Input.is_action_pressed(\"right\")) - int(Input.is_action_pressed(\"left\"))
	input.y = int(Input.is_action_pressed(\"down\")) - int(Input.is_action_pressed(\"up\"))
	return input.normalized()
	
func player_movement(delta):
	input = get_input()
	
	if input == Vector2.ZERO:
		if velocity.length() > (friction * delta):
			velocity -= velocity.normalized() * (friction * delta)
		else:
			velocity = Vector2.ZERO
	else:
		velocity += (input * accel * delta)
		velocity = velocity.limit_length(max_speed)
		
	move_and_slide()
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3ordw"]
size = Vector2(4075.75, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tknoe"]
size = Vector2(45.5, 4078.5)

[node name="world" type="Node2D"]
position = Vector2(-14, -9)

[node name="Dm\'sWorldInChaos" type="Sprite2D" parent="."]
position = Vector2(-758, 514)
texture = ExtResource("3_i5x0n")

[node name="player" parent="." instance=ExtResource("1_ehuas")]
position = Vector2(-847, 402)
script = SubResource("GDScript_3uf2h")

[node name="Ui" parent="player" instance=ExtResource("5_8tcvv")]
position = Vector2(-1139, -588)
scale = Vector2(2, 2)

[node name="Camera2D" type="Camera2D" parent="player"]
zoom = Vector2(0.55, 0.55)
limit_left = -2800
limit_top = -1500
limit_right = 1250
limit_bottom = 2550
editor_draw_limits = true

[node name="Sprite2D2" type="Sprite2D" parent="player"]
position = Vector2(19, -20)
scale = Vector2(0.189941, 0.20166)
texture = ExtResource("4_xxq6m")

[node name="CanvasLayer" type="CanvasLayer" parent="player"]

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(-124, 2437)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-622.75, 103)
shape = SubResource("RectangleShape2D_3ordw")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-623, -3942)
shape = SubResource("RectangleShape2D_3ordw")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1419.75, -1928.75)
shape = SubResource("RectangleShape2D_tknoe")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-2644, -1929)
shape = SubResource("RectangleShape2D_tknoe")
